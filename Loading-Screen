local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")
local StarterGui = game:GetService("StarterGui")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Disable Roblox notifications Core GUI
StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.Notifications, false)

-- Remove old UI and blur
if playerGui:FindFirstChild("BlackCoverUI") then
	playerGui.BlackCoverUI:Destroy()
end
for _, effect in ipairs(Lighting:GetChildren()) do
	if effect:IsA("BlurEffect") then
		effect:Destroy()
	end
end

local blur = Instance.new("BlurEffect")
blur.Size = 24
blur.Parent = Lighting

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "BlackCoverUI"
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.DisplayOrder = 10000
screenGui.Parent = playerGui
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local blackFrame = Instance.new("Frame")
blackFrame.Size = UDim2.new(1, 0, 1, 0)
blackFrame.Position = UDim2.new(0, 0, 0, 0)
blackFrame.BackgroundColor3 = Color3.new(0, 0, 0)
blackFrame.BorderSizePixel = 0
blackFrame.ZIndex = 1
blackFrame.Parent = screenGui
