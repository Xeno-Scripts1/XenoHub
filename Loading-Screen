local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Remove any existing UI named "BlackCoverUI"
if playerGui:FindFirstChild("BlackCoverUI") then
	playerGui.BlackCoverUI:Destroy()
end

-- Remove any existing blur effects from Lighting
for _, effect in ipairs(Lighting:GetChildren()) do
	if effect:IsA("BlurEffect") then
		effect:Destroy()
	end
end

-- Add a blur effect for nicer look (optional)
local blur = Instance.new("BlurEffect")
blur.Size = 24
blur.Parent = Lighting

-- Create ScreenGui to cover whole screen
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "BlackCoverUI"
screenGui.ResetOnSpawn = false
screenGui.IgnoreGuiInset = true
screenGui.DisplayOrder = 9999 -- very high so it overlays everything
screenGui.Parent = playerGui
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Black full-screen frame
local blackFrame = Instance.new("Frame")
blackFrame.Size = UDim2.new(1, 0, 1, 0)
blackFrame.Position = UDim2.new(0, 0, 0, 0)
blackFrame.BackgroundColor3 = Color3.new(0, 0, 0)
blackFrame.BorderSizePixel = 0
blackFrame.ZIndex = 1
blackFrame.Parent = screenGui
