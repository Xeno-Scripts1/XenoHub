-- Xeno's Pet Spawner Script (Fixed UI Layout)
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
local Backpack = LocalPlayer:WaitForChild("Backpack")

if PlayerGui:FindFirstChild("XenosPetSpawner") then
	PlayerGui.XenosPetSpawner:Destroy()
end

local petNames = {
	"Kitsune", "Dragonfly", "Disco bee", "Mimic octopus",
	"Butterfly", "Raccoon", "T-Rex", "Fennec Fox",
	"Spinosaurus", "Chicken Zombie"
}

-- UI Setup
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "XenosPetSpawner"
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.Parent = PlayerGui

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 400, 0, 300)
mainFrame.Position = UDim2.new(0.5, -200, 0.5, -150)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui
Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 12)

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
title.Text = "üêæ Xeno's Pet Spawner"
title.Font = Enum.Font.GothamBold
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextSize = 22
title.Parent = mainFrame
Instance.new("UICorner", title)

-- Pet Dropdown
local dropdown = Instance.new("TextButton")
dropdown.Text = "Select Pet ‚ñº"
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 16
dropdown.TextColor3 = Color3.fromRGB(255, 255, 255)
dropdown.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
dropdown.Position = UDim2.new(0, 30, 0, 60)
dropdown.Size = UDim2.new(0, 160, 0, 30)
dropdown.Parent = mainFrame
Instance.new("UICorner", dropdown)

local selectedPet = nil

local dropdownFrame = Instance.new("Frame")
dropdownFrame.Position = UDim2.new(0, 30, 0, 95)
dropdownFrame.Size = UDim2.new(0, 160, 0, #petNames * 26)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
dropdownFrame.Visible = false
dropdownFrame.ClipsDescendants = true
dropdownFrame.Parent = mainFrame

for i, name in ipairs(petNames) do
	local option = Instance.new("TextButton")
	option.Size = UDim2.new(1, 0, 0, 26)
	option.Position = UDim2.new(0, 0, 0, (i - 1) * 26)
	option.Text = name
	option.Font = Enum.Font.Gotham
	option.TextSize = 14
	option.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	option.TextColor3 = Color3.fromRGB(255, 255, 255)
	option.Parent = dropdownFrame

	option.MouseButton1Click:Connect(function()
		selectedPet = name
		dropdown.Text = name
		dropdownFrame.Visible = false
	end)
end

dropdown.MouseButton1Click:Connect(function()
	dropdownFrame.Visible = not dropdownFrame.Visible
end)

-- Age Label + Box
local ageLabel = Instance.new("TextLabel")
ageLabel.Text = "Age:"
ageLabel.Font = Enum.Font.Gotham
ageLabel.TextSize = 16
ageLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
ageLabel.BackgroundTransparency = 1
ageLabel.Position = UDim2.new(0, 220, 0, 60)
ageLabel.Size = UDim2.new(0, 50, 0, 30)
ageLabel.Parent = mainFrame

local ageBox = Instance.new("TextBox")
ageBox.PlaceholderText = "Years"
ageBox.Font = Enum.Font.Gotham
ageBox.TextSize = 16
ageBox.TextColor3 = Color3.fromRGB(255, 255, 255)
ageBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
ageBox.Size = UDim2.new(0, 130, 0, 30)
ageBox.Position = UDim2.new(0, 270, 0, 60)
ageBox.ClearTextOnFocus = false
ageBox.Text = ""
ageBox.Parent = mainFrame
Instance.new("UICorner", ageBox)

-- Weight Label + Box
local weightLabel = Instance.new("TextLabel")
weightLabel.Text = "Weight:"
weightLabel.Font = Enum.Font.Gotham
weightLabel.TextSize = 16
weightLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
weightLabel.BackgroundTransparency = 1
weightLabel.Position = UDim2.new(0, 220, 0, 110)
weightLabel.Size = UDim2.new(0, 60, 0, 30)
weightLabel.Parent = mainFrame

local weightBox = Instance.new("TextBox")
weightBox.PlaceholderText = "kg"
weightBox.Font = Enum.Font.Gotham
weightBox.TextSize = 16
weightBox.TextColor3 = Color3.fromRGB(255, 255, 255)
weightBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
weightBox.Size = UDim2.new(0, 130, 0, 30)
weightBox.Position = UDim2.new(0, 290, 0, 110)
weightBox.ClearTextOnFocus = false
weightBox.Text = ""
weightBox.Parent = mainFrame
Instance.new("UICorner", weightBox)

-- Spawn Button
local spawnButton = Instance.new("TextButton")
spawnButton.Text = "Spawn Pet"
spawnButton.Font = Enum.Font.GothamBold
spawnButton.TextSize = 18
spawnButton.TextColor3 = Color3.new(1, 1, 1)
spawnButton.BackgroundColor3 = Color3.fromRGB(30, 130, 70)
spawnButton.Size = UDim2.new(0, 180, 0, 40)
spawnButton.Position = UDim2.new(0.5, -90, 1, -60)
spawnButton.Parent = mainFrame
Instance.new("UICorner", spawnButton)

spawnButton.MouseButton1Click:Connect(function()
	if not selectedPet then return end

	local modelFolder = ReplicatedStorage:FindFirstChild("PetModels")
	if not modelFolder then warn("Missing PetModels folder in ReplicatedStorage") return end

	local petModel = modelFolder:FindFirstChild(selectedPet)
	if not petModel then warn("Missing pet model: " .. selectedPet) return end

	local clone = petModel:Clone()

	local weight = tonumber(weightBox.Text) or 1
	local age = tonumber(ageBox.Text) or 1
	local scaleFactor = (weight + age) / 10

	for _, part in pairs(clone:GetDescendants()) do
		if part:IsA("BasePart") then
			part.Size *= scaleFactor
		end
	end

	if clone:IsA("Tool") then
		clone.Parent = Backpack
	else
		clone.Parent = Backpack
	end
end)
