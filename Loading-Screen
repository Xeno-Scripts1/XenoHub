local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

local LocalPlayer = Players.LocalPlayer

-- UI Setup
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CustomLoadingUI"
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

-- üî≤ Fullscreen Black Background
local blackBg = Instance.new("Frame")
blackBg.Size = UDim2.new(1, 0, 1, 0)
blackBg.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
blackBg.BorderSizePixel = 0
blackBg.Parent = screenGui

local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new{
	ColorSequenceKeypoint.new(0, Color3.fromRGB(20, 20, 30)),
	ColorSequenceKeypoint.new(1, Color3.fromRGB(5, 5, 5))
}
gradient.Rotation = 90
gradient.Parent = blackBg

-- Pet List
local pets = {"Raccoon", "T-Rex", "Dragon Fly", "Mimic Octopus", "Kitsune", "Disco Bee", "Butterfly"}

-- üêæ Pet Selection Dropdown
local petLabel = Instance.new("TextLabel")
petLabel.Text = "Choose a Pet to Spawn"
petLabel.Size = UDim2.new(0, 300, 0, 30)
petLabel.Position = UDim2.new(0.05, 0, 0.15, 0)
petLabel.BackgroundTransparency = 1
petLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
petLabel.Font = Enum.Font.GothamBold
petLabel.TextSize = 20
petLabel.TextXAlignment = Enum.TextXAlignment.Left
petLabel.Parent = blackBg

local petDropdown = Instance.new("TextButton")
petDropdown.Size = UDim2.new(0, 300, 0, 35)
petDropdown.Position = UDim2.new(0.05, 0, 0.2, 0)
petDropdown.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
petDropdown.Text = "Select Pet"
petDropdown.TextColor3 = Color3.fromRGB(255, 255, 255)
petDropdown.Font = Enum.Font.Gotham
petDropdown.TextSize = 18
petDropdown.Parent = blackBg

local selectedPet = pets[1]

-- Dropdown logic
local petMenu = Instance.new("Frame")
petMenu.Size = UDim2.new(0, 300, 0, #pets * 30)
petMenu.Position = petDropdown.Position + UDim2.new(0, 0, 0, 35)
petMenu.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
petMenu.BorderSizePixel = 0
petMenu.Visible = false
petMenu.Parent = blackBg

for _, pet in ipairs(pets) do
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(1, 0, 0, 30)
	btn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
	btn.Text = pet
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.Font = Enum.Font.Gotham
	btn.TextSize = 16
	btn.Parent = petMenu

	btn.MouseButton1Click:Connect(function()
		selectedPet = pet
		petDropdown.Text = pet
		petMenu.Visible = false
	end)
end

petDropdown.MouseButton1Click:Connect(function()
	petMenu.Visible = not petMenu.Visible
end)

-- üßÆ Amount Selector
local amtLabel = Instance.new("TextLabel")
amtLabel.Text = "How many pets to spawn? (1‚Äì5)"
amtLabel.Size = UDim2.new(0, 300, 0, 30)
amtLabel.Position = UDim2.new(0.05, 0, 0.35, 0)
amtLabel.BackgroundTransparency = 1
amtLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
amtLabel.Font = Enum.Font.GothamBold
amtLabel.TextSize = 18
amtLabel.TextXAlignment = Enum.TextXAlignment.Left
amtLabel.Parent = blackBg

local amtBox = Instance.new("TextBox")
amtBox.Size = UDim2.new(0, 60, 0, 35)
amtBox.Position = UDim2.new(0.05, 0, 0.4, 0)
amtBox.PlaceholderText = "1‚Äì5"
amtBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
amtBox.TextColor3 = Color3.fromRGB(255, 255, 255)
amtBox.Font = Enum.Font.Gotham
amtBox.TextSize = 18
amtBox.Text = ""
amtBox.Parent = blackBg

-- üìÑ Description
local desc = Instance.new("TextLabel")
desc.Size = UDim2.new(0, 400, 0, 40)
desc.Position = UDim2.new(0.05, 0, 0.48, 0)
desc.Text = "Each pet adds 1 minute of loading time (Max 5 minutes)."
desc.TextColor3 = Color3.fromRGB(200, 200, 200)
desc.Font = Enum.Font.Gotham
desc.TextSize = 16
desc.BackgroundTransparency = 1
desc.TextXAlignment = Enum.TextXAlignment.Left
desc.Parent = blackBg

-- üü¢ Start Button
local startBtn = Instance.new("TextButton")
startBtn.Size = UDim2.new(0, 180, 0, 40)
startBtn.Position = UDim2.new(0.05, 0, 0.56, 0)
startBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
startBtn.Text = "Start Duplication"
startBtn.TextColor3 = Color3.new(1,1,1)
startBtn.Font = Enum.Font.GothamBold
startBtn.TextSize = 18
startBtn.Parent = blackBg

-- üîÅ Notification Box (Top Right)
local notifBox = Instance.new("Frame")
notifBox.Size = UDim2.new(0, 300, 0, 160)
notifBox.Position = UDim2.new(1, -310, 0.05, 0)
notifBox.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
notifBox.Parent = blackBg

local notifTitle = Instance.new("TextLabel")
notifTitle.Size = UDim2.new(1, 0, 0, 28)
notifTitle.Text = "üìù Duplication Log"
notifTitle.Font = Enum.Font.GothamBold
notifTitle.TextSize = 18
notifTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
notifTitle.BackgroundTransparency = 1
notifTitle.Parent = notifBox

local notifList = Instance.new("Frame")
notifList.Size = UDim2.new(1, -10, 1, -30)
notifList.Position = UDim2.new(0, 5, 0, 30)
notifList.BackgroundTransparency = 1
notifList.Parent = notifBox

local layout = Instance.new("UIListLayout")
layout.SortOrder = Enum.SortOrder.LayoutOrder
layout.Padding = UDim.new(0, 4)
layout.Parent = notifList

-- üîÑ Loading UI Elements
local loadingBarFrame = Instance.new("Frame")
loadingBarFrame.Size = UDim2.new(0.4, 0, 0.05, 0)
loadingBarFrame.Position = UDim2.new(0.3, 0, 0.8, 0)
loadingBarFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
loadingBarFrame.Visible = false
loadingBarFrame.Parent = blackBg

local loadingFill = Instance.new("Frame")
loadingFill.BackgroundColor3 = Color3.fromRGB(0, 255, 140)
loadingFill.Size = UDim2.new(0, 0, 1, 0)
loadingFill.Parent = loadingBarFrame

local loadingText = Instance.new("TextLabel")
loadingText.Size = UDim2.new(1, 0, 1, 0)
loadingText.Text = "0%"
loadingText.Font = Enum.Font.GothamBold
loadingText.TextColor3 = Color3.fromRGB(255, 255, 255)
loadingText.TextScaled = true
loadingText.BackgroundTransparency = 1
loadingText.Parent = loadingBarFrame

-- üîî Fake notification spawner
local function spawnNotification()
	local names = {"XenoWarrior", "TradeKing", "SparkleNova", "Dupemaster"}
	local user = names[math.random(1, #names)]
	local pet = pets[math.random(1, #pets)]
	local amount = math.random(1, 5)

	local notif = Instance.new("TextLabel")
	notif.Size = UDim2.new(1, 0, 0, 24)
	notif.Text = user .. " spawned " .. amount .. "x " .. pet
	notif.TextColor3 = Color3.fromRGB(0, 255, 170)
	notif.BackgroundTransparency = 1
	notif.TextSize = 16
	notif.Font = Enum.Font.Gotham
	notif.TextXAlignment = Enum.TextXAlignment.Left
	notif.Parent = notifList

	game.Debris:AddItem(notif, 8)
end

-- üöÄ Start Logic
startBtn.MouseButton1Click:Connect(function()
	local amount = tonumber(amtBox.Text)
	if not amount or amount < 1 or amount > 5 then
		startBtn.Text = "Enter 1‚Äì5"
		return
	end

	-- Hide UI and begin loading
	for _, obj in pairs(blackBg:GetChildren()) do
		if obj ~= loadingBarFrame then obj.Visible = false end
	end

	loadingBarFrame.Visible = true

	local totalTime = amount * 60
	local steps = 100

	task.spawn(function()
		for i = 1, steps do
			local progress = i / steps
			loadingFill:TweenSize(UDim2.new(progress, 0, 1, 0), "Out", "Quad", 0.2, true)
			loadingText.Text = tostring(math.floor(progress * 100)) .. "%"
			wait(totalTime / steps)
		end

		screenGui:Destroy()
	end)

	task.spawn(function()
		while screenGui and screenGui.Parent do
			spawnNotification()
			wait(math.random(3, 6))
		end
	end)
end)
