-- Xeno's Pet Spawner (Final UI + Logic)

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- Remove existing UI
if PlayerGui:FindFirstChild("XenoPetSpawner") then
	PlayerGui:FindFirstChild("XenoPetSpawner"):Destroy()
end

-- PET ASSET LIST
local petAssets = {
	["Kitsune"] = "rbxassetid://12345678",
	["Dragonfly"] = "rbxassetid://12345679",
	["Disco bee"] = "rbxassetid://12345680",
	["Mimic octopus"] = "rbxassetid://12345681",
	["Butterfly"] = "rbxassetid://12345682",
	["Raccoon"] = "rbxassetid://12345683",
	["T-Rex"] = "rbxassetid://12345684",
	["Fennec Fox"] = "rbxassetid://12345685",
	["Spinosaurus"] = "rbxassetid://12345686",
	["Chicken Zombie"] = "rbxassetid://12345687"
}

-- UI SETUP
local screenGui = Instance.new("ScreenGui", PlayerGui)
screenGui.Name = "XenoPetSpawner"
screenGui.ResetOnSpawn = false

local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 380, 0, 240)
mainFrame.Position = UDim2.new(0.5, -190, 0.5, -120)
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainFrame.BorderSizePixel = 0
mainFrame.BackgroundTransparency = 0
mainFrame.ClipsDescendants = true
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.UICorner = Instance.new("UICorner", mainFrame)
mainFrame.UICorner.CornerRadius = UDim.new(0, 16)

local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1, 0, 0, 35)
title.BackgroundTransparency = 1
title.Text = "ðŸ§¬ Xeno's Pet Spawner"
title.Font = Enum.Font.GothamSemibold
title.TextSize = 22
title.TextColor3 = Color3.fromRGB(100, 255, 100)

-- Dropdown
local petDropdown = Instance.new("TextButton", mainFrame)
petDropdown.Size = UDim2.new(1, -40, 0, 30)
petDropdown.Position = UDim2.new(0, 20, 0, 50)
petDropdown.Text = "Select a Pet"
petDropdown.Font = Enum.Font.Gotham
petDropdown.TextSize = 16
petDropdown.TextColor3 = Color3.new(1, 1, 1)
petDropdown.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
petDropdown.AutoButtonColor = true
Instance.new("UICorner", petDropdown)

local dropdownMenu = Instance.new("Frame", mainFrame)
dropdownMenu.Position = UDim2.new(0, 20, 0, 80)
dropdownMenu.Size = UDim2.new(1, -40, 0, 0)
dropdownMenu.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
dropdownMenu.ClipsDescendants = true
dropdownMenu.Visible = false
Instance.new("UICorner", dropdownMenu)

local selectedPet = nil
local dropdownOpen = false

local function populateDropdown()
	for petName, _ in pairs(petAssets) do
		local btn = Instance.new("TextButton", dropdownMenu)
		btn.Size = UDim2.new(1, 0, 0, 25)
		btn.Text = petName
		btn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
		btn.TextColor3 = Color3.new(1, 1, 1)
		btn.Font = Enum.Font.Gotham
		btn.TextSize = 14
		btn.AutoButtonColor = true
		btn.MouseButton1Click:Connect(function()
			petDropdown.Text = petName
			selectedPet = petName
			dropdownMenu.Visible = false
			dropdownOpen = false
			dropdownMenu:TweenSize(UDim2.new(1, -40, 0, 0), "Out", "Quad", 0.2)
		end)
	end
end

populateDropdown()

petDropdown.MouseButton1Click:Connect(function()
	dropdownOpen = not dropdownOpen
	dropdownMenu.Visible = true
	if dropdownOpen then
		dropdownMenu:TweenSize(UDim2.new(1, -40, 0, 150), "Out", "Quad", 0.25)
	else
		dropdownMenu:TweenSize(UDim2.new(1, -40, 0, 0), "Out", "Quad", 0.25)
	end
end)

-- Age & Weight Titles
local ageLabel = Instance.new("TextLabel", mainFrame)
ageLabel.Text = "Age"
ageLabel.Size = UDim2.new(0.5, -30, 0, 20)
ageLabel.Position = UDim2.new(0, 20, 0, 130)
ageLabel.BackgroundTransparency = 1
ageLabel.Font = Enum.Font.Gotham
ageLabel.TextSize = 14
ageLabel.TextColor3 = Color3.new(1, 1, 1)

local weightLabel = ageLabel:Clone()
weightLabel.Text = "Weight"
weightLabel.Position = UDim2.new(0.5, 10, 0, 130)
weightLabel.Parent = mainFrame

-- Age & Weight Inputs
local ageBox = Instance.new("TextBox", mainFrame)
ageBox.Size = UDim2.new(0.5, -30, 0, 25)
ageBox.Position = UDim2.new(0, 20, 0, 155)
ageBox.PlaceholderText = "Enter Age"
ageBox.Font = Enum.Font.Gotham
ageBox.TextSize = 14
ageBox.TextColor3 = Color3.new(1, 1, 1)
ageBox.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
Instance.new("UICorner", ageBox)

local weightBox = ageBox:Clone()
weightBox.PlaceholderText = "Enter Weight"
weightBox.Position = UDim2.new(0.5, 10, 0, 155)
weightBox.Parent = mainFrame

-- Loading bar
local loadingBar = Instance.new("Frame", mainFrame)
loadingBar.Size = UDim2.new(0, 0, 0, 5)
loadingBar.Position = UDim2.new(0, 0, 1, -5)
loadingBar.BackgroundColor3 = Color3.fromRGB(0, 255, 100)
loadingBar.Visible = false

-- Spawn Button
local spawnBtn = Instance.new("TextButton", mainFrame)
spawnBtn.Size = UDim2.new(1, -40, 0, 30)
spawnBtn.Position = UDim2.new(0, 20, 1, -40)
spawnBtn.Text = "Spawn Pet"
spawnBtn.Font = Enum.Font.GothamSemibold
spawnBtn.TextSize = 16
spawnBtn.TextColor3 = Color3.new(1, 1, 1)
spawnBtn.BackgroundColor3 = Color3.fromRGB(30, 150, 80)
Instance.new("UICorner", spawnBtn)

-- Spawn Pet Logic
spawnBtn.MouseButton1Click:Connect(function()
	if not selectedPet or not ageBox.Text or not weightBox.Text then return end

	local age = tonumber(ageBox.Text) or 1
	local weight = tonumber(weightBox.Text) or 1
	local assetId = petAssets[selectedPet]

	loadingBar.Visible = true
	loadingBar.Size = UDim2.new(0, 0, 0, 5)

	local tween = TweenService:Create(loadingBar, TweenInfo.new(3, Enum.EasingStyle.Linear), { Size = UDim2.new(1, 0, 0, 5) })
	tween:Play()
	tween.Completed:Wait()

	local petModel = game:GetObjects(assetId)[1]
	if not petModel then return end

	local tool = Instance.new("Tool")
	tool.Name = selectedPet
	tool.RequiresHandle = false
	tool.CanBeDropped = true
	petModel.Parent = tool
	petModel:SetPrimaryPartCFrame(LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(2, 0, 0))

	-- Scale
	local scale = 1 + (age * 0.1) + (weight * 0.05)
	for _, part in ipairs(petModel:GetDescendants()) do
		if part:IsA("BasePart") then
			part.Size = part.Size * scale
		end
	end

	tool.Parent = LocalPlayer.Backpack
	loadingBar.Visible = false
end)
